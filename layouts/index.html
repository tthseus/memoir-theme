{{ define "main" }}
{{ $homepage_types := slice "posts" "series" }}
{{ $paginator := .Paginate (where $.Site.RegularPages "Section" "post") 4 }}

<div class="container">
    <div class="gallery js-flickity mt-top" data-flickity-options='{ "freeScroll": false, "wrapAround": true, "autoPlay": true, "imagesLoaded": true, "draggable":false}'>
        {{ range  $paginator.Pages }}
            {{ partial "widgets/carousel-cell.html" . }}
        {{ end }}
    </div>
    <div class="section">
        <div class="columns is-multiline">
            {{ range  $paginator.Pages }}
            <div class="column is-half">
                {{ partial "widgets/post-card.html" . }}
            </div>
            {{ end }}
        </div> 
        <div class="columns is-centered">
            <div class="column is-narrow">
                {{ partial "widgets/pagination.html" . }}
            </div>
        </div> 
    </div>
</div>
{{ end }}

